# Phordan's After Effects Scripts and ScriptUI Panels
This repo is where I have my personal scriptUI panels, usually simple utilities.

Unfortunately there isn't much here yet but there will be some interesting tools available here and documented soon.

## [Phil's Toolbox .jsx (In-Progress)](https://github.com/phordan/phordan_ae_scripts/blob/main/Phils%20Toolbox.jsx):
This is a multi-purpose ScriptUI Panel that has a few different macros related to applying expressions on properties. 
Look out for more description in the future when it's more feature-complete.

![image](https://github.com/user-attachments/assets/eb99162b-9144-4b5e-a286-8db5389de8e2)

The goal was to avoid using the panel to "edit" anything after you use it. It focuses on just applying the setup in an adaptable way.

We shouldn't be scared to just edit our expressions; to me, relying on links that scripts/plugins make and "try to keep" can lead to confusion and a lack of confidence in the intended method if you run into trouble somehow.

**So these are meant to just drop and move on.**

*I used helper functions and a kind of pseudo-markup system to separate concerns for this one, so it might be interesting to peruse if you want a different perspective on how to build controls, functions, and layout for *your* ScriptUI Panels.*

### Number Formatter:
**Format numbers like social media posts do _(1k, 5.3k, 46k, 853k, 1.8M, 9M, etc.)_** 

![image](https://github.com/user-attachments/assets/285a673e-bda6-4a7d-b19c-7ca3e0e8715d)

Applies the number formatting expression to a single Text Layer's Source Text Property. It declares a `count` variable that should be of type `Number`. You can provide an initial count via the panel prior to applying, or it will also provide a default. 
It is easy to edit the expression and link count to a Slider or external property instead. 

### Highlight Hashtags / Hide Emoji _(In-Progress)_:
**Automatically color hashtags and hide _emoji_ in a Text Layer, via _Animators_ and _Expression Selectors_.**

_These work better when the source text is something you'll change often, or is linked to a big set of data, like for a template._

It's worth noting that these expressions all correctly compensate for any line-breaks and emoji, which cause unpredictable differences between js/expression-interpereted `string.length` and the actual rendered `textDocument`'s `characterCount`.

To do this, every emoji has to be identified and broken down to determine it's character length difference, and all of the `matches` must be aware of any linebreak or emoji instances before and after the `match`'s `startIndex`.

 **Despite this, these are designed to just set and forget** üëç

You can always go into the Animator and modify the _color/property_ that's changed. 

Or be bold, and dive into the Expression Selector! The RegEx used to match/highlight could be easily changed to adapt to your needs.

### Squircle Generator _(In-Progress)_:
**Creates a "squircle" shape/path with a linked tension control.**

![Screenshot 2024-10-01 152149](https://github.com/user-attachments/assets/63394728-cd02-44e4-a21d-06711dd6c5d0)

**_Size_** and **_Roundness_** can be controlled through the **_Rectangle Path_** generated by the panel. If desired, you are able to specify the name of the created layer/path in the panel before applying.
